<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script>
		//数组去重
		var arr = [1,1,2,2,7,5,7,5,4,3,3,4,'a','c','a','b','c','b']

		//利用对象
		function unique1(arr){
			var res = []
			var obj = {}
			for(var i = 0; i < arr.length; i++){
				if(!obj[arr[i]]){
					obj[arr[i]] = 1
					res.push(arr[i])
				}
			}
			return res
		}
        unique1(arr)

        //数组的indexOf方法

        function unique2(arr){
        	var res = []
        	for(var i = 0; i < arr.length; i++){
        		if(res.indexOf(arr[i]) == -1){
        			res.push(arr[i])
        		}
        	}
        	return res
        }
        unique2(arr)

        //数组的includes方法

        function unique3(arr){
        	var res = []
        	for(var i = 0; i< arr.length; i++){
        		if(!res.includes(arr[i])){
        			res.push(arr[i])
        		}
        	}
        	return res
        }
        unique3(arr)

        // ES6 Set数据结构，其成员是唯一的
        function unique4(arr){
        	return [...new Set(arr)]
        }
        unique4(arr)

        // 数组的filter方法

        function unique5(arr){
        	var res = arr.filter((self, index, arr) =>
        		arr.indexOf(self) == index
        	)
        	return res
        }
        unique5(arr)
       
        //数组浅拷贝
       
        var arr1 = arr.concat()
        var arr2 = arr.slice()
        var arr3 = [...arr]

        //深拷贝
        function deepClone(obj){
            if(typeof obj === 'object'){
                var res = Array.isArray(obj)? [] : {}
                for(key in obj){
                    if(typeof obj[key] === 'object'){
                        res[key] = deepClone(obj[key])
                    }else{
                        res[key] = obj[key]
                    }
                }
                return res
            }
        }

        //数组最大值
        var max = [1,2,3,4,5]
        Math.max.apply(null, max)
        max.reduce((n1, n2) => n1 > n2? n1 : n2)

        max.sort((item1, item2) => item1 - item2)
        max.sort((item1, item2) => item2 - item1)

        //数组平铺

        //[].concat(...arr)

        var arrarr = [1, [2, 3, 4 ,[0, 2, 3]], [7, 9, [[0, 1], [1, 2]]]]
        function flatten(arr){

                while(arr.some(item => Array.isArray(item))){
                        arr = [].concat(...arr)
                }
                return arr
        }
        flatten(arrarr)

        // function flatten(arr){
        //         var rearr = [].concat(...arr)
        //         if(rearr.some(item => Array.isArray(item))){
        //             rearr = flatten(rearr)
        //         }
        //         return rearr
        // }

        扩展运算符（...）也可以将某些数据结构转为数组。
        [...document.querySelectorAll('div')]


        // Array.from方法用于将两类对象转为真正的数组：
        // 类似数组的对象（array-like object）和可遍历（iterable）的对象
        let arrayLike = {
            '0': 'a',
            '1': 'b',
            '2': 'c',
            length: 3
        };

        // ES5的写法
        var arr1 = [].slice.call(arrayLike); // ['a', 'b', 'c']

        // ES6的写法
        let arr2 = Array.from(arrayLike); // ['a', 'b', 'c']

        let ps = document.querySelectorAll('p');
        Array.from(ps).filter(p => {
          return p.textContent.length > 100;
        });

        // arguments对象
        function foo() {
          var args = Array.from(arguments);
          // ...
        }
        //冒泡排序
        var arrs = [3,2,5,9,1,6,33,4,65,22]
        function swap(arr,l,r){
        	let v = arr[r]
        	arr[r] = arr[l]
        	arr[l] = v
        }
        for(let i = 0; i < arrs.length; i++){
        	for(let j = i + 1; j < arrs.length; j++){
        		if(arrs[i] > arrs[j]){
        			swap(arrs,i,j)
        		}
        	}
        }

        通过 reduce 来实现 map 函数
        const arr = [1, 2, 3]
        const mapArray = arr.map(value => value * 2)
        const reduceArray = arr.reduce((acc, current) => {
          acc.push(current * 2) // acc初始值 acc = []
          return acc
        }, [])
        console.log(mapArray, reduceArray) // [2, 4, 6]
	</script>
</body>
</html>