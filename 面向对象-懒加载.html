<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.js"></script>
	<style>
		ul,li{
			list-style: none;
			margin: 0;
			padding: 0;
		}
		.container{
			width: 520px;
			margin: 0 auto;
		}
		.container img{
			width: 250px;
		}
		.container li{
			width: 250px;
			float: left;
			margin-left: 20px;
		}
		.container ul{
			margin-left: -20px;
		}
		.container ul:after{
			content: "";
			display: block;
			clear: both;
		}

	</style>
</head>
<body>
	<div class="container">
		<ul>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/1.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/2.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/3.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/4.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/5.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/6.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/7.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/8.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/9.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/10.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/11.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/12.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/13.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/14.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/15.jpg" alt=""></a></li>
			<li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg" data-scr="http://cdn.jirengu.com/book.jirengu.com/img/16.jpg" alt=""></a></li>
		</ul>
	</div>

	<script>
		/*function Exposure($target,callback){
			this.$target = $target;
			this.callback = callback;
			this.$target.data('loaded',false)
			this.check();
			this.bind();
		}
		Exposure.prototype.bind = function(){
			$(window).scroll(this.throttle(this.check,300))
		}
		Exposure.prototype.isVisible = function(){
			if($(window).scrollTop() + $(window).height() >= this.$target.offset().top && this.$target.offset().top >= $(window).scrollTop()){
				
				return true;
			}else{
				return false;
			}
		}
		Exposure.prototype.check = function(){
			if(this.isVisible()){
				this.callback(this.$target);

			}
		}
		Exposure.prototype.throttle = function(fn,delay){
			var timer = null;
			this.fn = fn
			var _this = this
			return function(){
				clearTimeout(timer)
				timer = setTimeout(function(){
					_this.fn();				
				},delay)
			}

		}*/

		var lazy = (function(){
			function Exposure($target,callback){
				this.$target = $target;
				this.callback = callback;
				this.$target.data('loaded',false);
				this.check();
				this.bind();
			}
			Exposure.prototype.bind = function(){
				$(window).scroll(this.throttle(this.check,300));
			}
			Exposure.prototype.isVisible = function(){
				if($(window).scrollTop() + $(window).height() >= this.$target.offset().top && this.$target.offset().top >= $(window).scrollTop()){		
					return true;
				}else{
					return false;
				}
			}
			Exposure.prototype.check = function(){
				if(this.isVisible()){
					this.callback(this.$target);

				}
			}
			Exposure.prototype.throttle = function(fn,delay){
				var timer = null;
				this.fn = fn;
				var _this = this;
				return function(){
					clearTimeout(timer);
					timer = setTimeout(function(){
						_this.fn();				
					},delay);
				}

			}

			return {
				init:function($targets,callback){
					$targets.each(function(idx,target){
						new Exposure($(target),callback);
					})
				}
			}

		})()

		function loadImg($target){
			$target.attr('src',$target.attr('data-scr'))
			       .data('loaded',true);
		}
		function loadedImg($target){
			if(!$target.data('loaded')){
				$target.attr('src',$target.attr('data-scr'))
				       .data('loaded',true);
			}
		}
		lazy.init($('.container img'),function($target){
			loadedImg($target);
		})

	</script>
</body>
</html>